<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/logo2.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Energy Consumption for Buildings and Infrastructure</title>
  </head>
  <body>
    <script src="https://www.gstatic.com/dialogflow-console/fast/messenger/bootstrap.js?v=1"></script>
    <df-messenger
      intent="WELCOME"
      chat-title="Powerlyticsâš¡"
      agent-id="b44c8221-40ce-454c-92c6-1f4ec904fc93"
      language-code="en"
      chat-icon="/chatbot.png"
      data-default-icon="/chatbot.png"
    >
    </df-messenger>

    <script>
      (function () {
        try {
          const df = document.querySelector('df-messenger');
          if (!df) return;
          const params = new URLSearchParams(window.location.search);
          const iconParam = params.get('chatIcon');
          if (iconParam) {
            df.setAttribute('chat-icon', iconParam);
          } else {
            const defaultIcon = df.getAttribute('data-default-icon');
            if (defaultIcon) df.setAttribute('chat-icon', defaultIcon);
          }
        } catch (e) {
          console.warn('Could not set df-messenger chat icon', e);
        }
      })();
    </script>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
